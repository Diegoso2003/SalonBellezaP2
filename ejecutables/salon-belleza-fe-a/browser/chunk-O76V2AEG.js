import{a as A}from"./chunk-VG6MFNQK.js";import{a as P}from"./chunk-URET6IV6.js";import{a as b,b as u,c as S,d as w,e as y,g as I,h as V,l as N,m as T,n as L,o as q,p as G}from"./chunk-QEQSUI4L.js";import"./chunk-K7U5DLAY.js";import{f as _}from"./chunk-H2DLJ7WX.js";import{Ka as n,La as g,Va as h,Vb as E,W as c,Xa as l,Y as v,_a as p,cb as r,db as a,eb as s,gb as F,ha as f,qb as t,vb as C,xb as m}from"./chunk-TQRRVTAY.js";import"./chunk-2VMXMS7J.js";var B=(e,o)=>({"mb-5":e,"mb-3":o}),U=(e,o)=>({"is-invalid":e,"is-valid":o});function k(e,o){e&1&&t(0," Ingrese su email ")}function D(e,o){e&1&&t(0," Ingrese un email valido ")}var j=class e{constructor(o){this.formBuilder=o;this.loginForm=this.formBuilder.group({correo:["",[u.required,u.email]],contrase\u00F1a:["",[u.required]]}),this._validadorForm=new P(this.loginForm)}loginForm;_informacion=c(q);_validadorForm;_usuarioServicio=c(A);usuario;enviar(){this.loginForm.valid?(this.usuario=this.loginForm.value,console.log(this.usuario),this._usuarioServicio.login(this.usuario).subscribe({next:o=>{console.log(o),this._usuarioServicio.redireccionarUsuario(o)},error:o=>{console.log(o),this._informacion.informarError(o.error.mensaje||"Error al iniciar sesi\xF3n"),this.loginForm.markAllAsTouched()}})):(console.log("Formulario inv\xE1lido"),this._informacion.informarError("Formulario inv\xE1lido"),this.loginForm.markAllAsTouched())}faltaEmail(){return this._validadorForm.hasErrors("correo","required")}esEmailInvalido(){return this._validadorForm.hasErrors("correo","email")}faltaPassword(){return this._validadorForm.hasErrors("contrase\xF1a","required")}esEmailValido(){return this._validadorForm.esValido("correo")}esPasswordValido(){return this._validadorForm.esValido("contrase\xF1a")}static \u0275fac=function(d){return new(d||e)(g(T))};static \u0275cmp=v({type:e,selectors:[["app-login"]],standalone:!0,features:[C],decls:29,vars:19,consts:[[1,"d-flex","align-items-center","justify-content-center"],[1,"card","w-25","m-3","shadow"],[1,"card-body","custom-card"],[1,"card-title","text-center","mb-3"],["novalidate","",1,"needs-validation",3,"submit","formGroup"],[1,"position-relative",3,"ngClass"],["for","validationTooltip01",1,"form-label"],["type","email","id","validationTooltip01","formControlName","correo","required","",1,"form-control",3,"ngClass"],[1,"invalid-tooltip"],["for","validationTooltip02",1,"form-label"],["type","password","id","validationTooltip02","formControlName","contrase\xF1a","required","",1,"form-control",3,"ngClass"],[1,"mb-3","d-flex","justify-content-center"],["type","submit",1,"custom-button"],["routerLink","/registro",1,"icon-link"],["xmlns","http://www.w3.org/2000/svg","width","16","height","16","fill","currentColor","viewBox","0 0 16 16",1,"bi","bi-person-fill-add"],["d","M12.5 16a3.5 3.5 0 1 0 0-7 3.5 3.5 0 0 0 0 7m.5-5v1h1a.5.5 0 0 1 0 1h-1v1a.5.5 0 0 1-1 0v-1h-1a.5.5 0 0 1 0-1h1v-1a.5.5 0 0 1 1 0m-2-6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"],["d","M2 13c0 1 1 1 1 1h5.256A4.5 4.5 0 0 1 8 12.5a4.5 4.5 0 0 1 1.544-3.393Q8.844 9.002 8 9c-5 0-6 3-6 4"]],template:function(d,i){d&1&&(s(0,"app-informacion"),r(1,"div",0)(2,"div",1)(3,"div",2)(4,"h5",3),t(5,"Iniciar sesion"),a(),r(6,"form",4),F("submit",function(){return i.enviar()}),r(7,"div",5)(8,"label",6),t(9,"Email"),a(),s(10,"input",7),r(11,"div",8),h(12,k,1,0)(13,D,1,0),a()(),r(14,"div",5)(15,"label",9),t(16,"Contrase\xF1a"),a(),s(17,"input",10),r(18,"div",8),t(19,"Ingrese su contrase\xF1a"),a()(),r(20,"div",11)(21,"button",12),t(22,"Iniciar sesion"),a()(),r(23,"div",11)(24,"a",13),f(),r(25,"svg",14),s(26,"path",15)(27,"path",16),a(),t(28," registrarse "),a()()()()()()),d&2&&(n(6),l("formGroup",i.loginForm),n(),l("ngClass",m(7,B,i.faltaEmail()||i.esEmailInvalido(),!(i.faltaEmail()||i.esEmailInvalido()))),n(3),l("ngClass",m(10,U,i.faltaEmail()||i.esEmailInvalido(),i.esEmailValido())),n(2),p(i.faltaEmail()?12:-1),n(),p(i.esEmailInvalido()?13:-1),n(),l("ngClass",m(13,B,i.faltaPassword(),!i.faltaPassword())),n(3),l("ngClass",m(16,U,i.faltaPassword(),i.esPasswordValido())))},dependencies:[_,L,y,b,S,w,N,I,V,E,G]})};export{j as LoginComponent};
