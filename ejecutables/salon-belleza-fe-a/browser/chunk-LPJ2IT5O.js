import{a as F}from"./chunk-6VF6MSZ4.js";import{a as D}from"./chunk-VG6MFNQK.js";import{o as y}from"./chunk-QEQSUI4L.js";import{b as I}from"./chunk-H2DLJ7WX.js";import{Ga as _,Ka as r,Va as d,W as m,Xa as g,Y as f,_a as p,ab as x,bb as E,cb as n,db as t,eb as a,gb as U,hb as u,kb as C,qb as c,rb as b,sb as v,vb as S}from"./chunk-TQRRVTAY.js";function N(i,o){if(i&1&&a(0,"img",0),i&2){let e=u();g("src",e.imagenUrl,_)}}function L(i,o){i&1&&a(0,"img",1)}var h=class i{dpi;imagenUrl=null;_usuarioService=m(D);_sanitizer=m(I);ngOnInit(){this.obtenerImagen()}obtenerImagen(){this._usuarioService.obtenerImagenPerfil(this.dpi).subscribe({next:o=>{let e=URL.createObjectURL(o);this.imagenUrl=this._sanitizer.bypassSecurityTrustUrl(e)},error:o=>{console.error("Error al obtener la imagen de perfil:",o),this.imagenUrl=null}})}ngOnDestroy(){this.imagenUrl&&URL.revokeObjectURL(this.imagenUrl)}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=f({type:i,selectors:[["app-imagen-perfil"]],inputs:{dpi:"dpi"},standalone:!0,features:[S],decls:2,vars:1,consts:[["alt","Imagen de perfil",1,"img-fluid","rounded-start",2,"max-height","200px",3,"src"],["src","...","alt","Imagen de perfil",1,"w-100"]],template:function(e,l){e&1&&d(0,N,1,1,"img",0)(1,L,1,0,"img",1),e&2&&p(l.imagenUrl?0:1)}})};var M=(i,o)=>o.dpi;function j(i,o){if(i&1&&(n(0,"option",5),c(1),t()),i&2){let e=o.$implicit;C("value",e.dpi),r(),b(e.nombre)}}function z(i,o){if(i&1&&(n(0,"div",6)(1,"div",7),a(2,"app-imagen-perfil",8),t(),n(3,"div",9)(4,"div",10)(5,"h5",11),c(6),t(),n(7,"p",12),c(8),t(),n(9,"p",13)(10,"small",14),c(11),a(12,"br"),c(13),t()()()()()),i&2){let e=u(2);r(2),g("dpi",e.empleadoSeleccionado.dpi),r(4),b(e.empleadoSeleccionado.nombre),r(2),v(" ",e.empleadoSeleccionado.descripcion," "),r(3),v(" Numero de telefono: ",e.empleadoSeleccionado.telefono," "),r(2),v(" dpi: ",e.empleadoSeleccionado.dpi," ")}}function R(i,o){i&1&&(n(0,"div",6)(1,"div",15),a(2,"img",16),t(),n(3,"div",9)(4,"div",10)(5,"h5",17),a(6,"span",18),t(),n(7,"p",19),a(8,"span",20)(9,"span",21)(10,"span",21)(11,"span",22)(12,"span",21)(13,"span",18)(14,"span",22),t()()()())}function V(i,o){if(i&1&&d(0,z,14,5,"div",6)(1,R,15,0,"div",6),i&2){let e=u();p(e.seleccionado.getUsuarioEncontrado()?0:1)}}var T=class i{ngOnDestroy(){console.log("Destruyendo el componente FormEmpleadosComponent")}empleadosDisponibles;seleccionado;mostrarInformacion=!1;empleadoSeleccionado;inputSelectTocado=!1;_servicioService=m(F);informacion=m(y);usuarioSeleccionado(o){this.mostrarInformacion=!0;let l=o.target.value;this.seleccionado.setUsuarioEncontrado(!1),this._servicioService.obtenerInformacionEmpleado(l).subscribe({next:s=>{this.seleccionado.setUsuarioSeleccionado(s),this.empleadoSeleccionado=s,this.seleccionado.setUsuarioEncontrado(!0)},error:s=>{this.seleccionado.setUsuarioEncontrado(!1),console.error("Error al obtener la informaci\xF3n del empleado:",s),this.informacion.informarError("Error al obtener la informaci\xF3n del empleado")}})}static \u0275fac=function(e){return new(e||i)};static \u0275cmp=f({type:i,selectors:[["app-form-empleados"]],inputs:{empleadosDisponibles:"empleadosDisponibles",seleccionado:"seleccionado"},standalone:!0,features:[S],decls:10,vars:1,consts:[[1,"card-title","text-center","mb-3"],[1,"input-group","mb-3"],["for","inputGroupSelect01",1,"input-group-text"],["id","inputGroupSelect01",1,"form-select",3,"change","click"],["value","","hidden",""],[3,"value"],[1,"row","g-0"],[1,"col-auto","d-none","d-lg-block"],[3,"dpi"],[1,"col-md-8"],[1,"card-body","overflow-auto",2,"max-height","200px"],[1,"card-title"],[1,"card-text"],[1,"card-text","d-flex","align-items-center"],[1,"text-body-secondary"],[1,"col-md-4"],["src","...","alt","...",1,"img-fluid","rounded-start"],[1,"card-title","placeholder-glow"],[1,"placeholder","col-6"],[1,"card-text","placeholder-glow"],[1,"placeholder","col-7"],[1,"placeholder","col-4"],[1,"placeholder","col-8"]],template:function(e,l){e&1&&(n(0,"h5",0),c(1,"Empleados disponibles"),t(),n(2,"div",1)(3,"label",2),c(4,"Seleccione un empleado"),t(),n(5,"select",3),U("change",function(P){return l.usuarioSeleccionado(P)})("click",function(){return l.inputSelectTocado=!0}),a(6,"option",4),x(7,j,2,2,"option",5,M),t()(),d(9,V,2,1)),e&2&&(r(7),E(l.empleadosDisponibles),r(2),p(l.mostrarInformacion?9:-1))},dependencies:[h]})};var O=class{usuarioSeleccionado;fechaSeleccionada=null;usuarioEncontrado=!1;setUsuarioSeleccionado(o){this.usuarioSeleccionado=o}usuarioNulo(){return this.usuarioSeleccionado===void 0}setFechaSeleccionada(o){this.fechaSeleccionada=o}getUsuarioSeleccionado(){return this.usuarioSeleccionado}esFechaValida(){return this.fechaSeleccionada!==null}getFechaSeleccionada(){return this.fechaSeleccionada}sonAmbosValidos(){return this.usuarioSeleccionado!==void 0&&this.fechaSeleccionada!==null}setUsuarioEncontrado(o){this.usuarioEncontrado=o}getUsuarioEncontrado(){return this.usuarioEncontrado}};export{T as a,O as b};
