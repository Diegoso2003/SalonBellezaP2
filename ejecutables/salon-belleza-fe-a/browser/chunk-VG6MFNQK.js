import{a as s}from"./chunk-K7U5DLAY.js";import{e as a}from"./chunk-H2DLJ7WX.js";import{Q as i,W as r,bc as o}from"./chunk-TQRRVTAY.js";var n=class e{tokenKey="auth_token";_http=r(o);url=`${s}/usuario`;router=r(a);constructor(){}redireccionarUsuario(t){switch(this.setToken(t.dpi),t.rol){case"ADMINISTRADOR":this.router.navigate(["/admin"]);break;case"CLIENTE":if(t.activo===!1){this.router.navigate(["/detalles"]);return}this.router.navigate(["/cliente"]);break;case"EMPLEADO":this.router.navigate(["/empleado"]);break;case"MARKETING":this.router.navigate(["/marketing"]);break;case"SERVICIOS":this.router.navigate(["/servicios"]);break}}setToken(t){localStorage.setItem(this.tokenKey,t)}getToken(){return localStorage.getItem(this.tokenKey)}login(t){return this._http.post(`${this.url}/login`,t)}logout(){localStorage.removeItem(this.tokenKey),this.router.navigate(["/login"])}registrarUsuario(t){return this._http.post(`${this.url}/registro_usuario`,t)}registrarEmpleado(t){return this._http.post(`${this.url}/registro_empleado`,t)}obtenerImagenPerfil(t){return this._http.get(`${this.url}/imagen_perfil/${t}`,{responseType:"blob"})}static \u0275fac=function(l){return new(l||e)};static \u0275prov=i({token:e,factory:e.\u0275fac,providedIn:"root"})};export{n as a};
